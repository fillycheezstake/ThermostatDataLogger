<html>
	<head>
		<!--Load the AJAX API -->
		<script type="text/javascript" src="http://www.google.com/jsapi"></script>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js" type="text/javascript"></script>
		<!--datething-->
		<link rel="stylesheet" href="//code.jquery.com/ui/1.10.4/themes/smoothness/jquery-ui.css">
		<script src="//code.jquery.com/jquery-1.10.2.js"></script>
		<script src="//code.jquery.com/ui/1.10.4/jquery-ui.js"></script>
		
		<script type="text/javascript">
		
		
		//Load the visualization API and the packages for charts
		google.load('visualization', '1', {'packages': ['corechart']});
		
		//Set my init function (drawitall) to run when the google visualization API is finished loading - this is important as all the functions 
		//rely on that API
		google.setOnLoadCallback(drawitall);
		
		var view = [];
		var viewstate = [];
		var datas1;
		var datas2;
		var jsonData, jsonData2
		
		var helper = "getData2.php?where=Downstairs&when=";
		var helper2 = "getData2.php?where=Upstairs&when=";
		
		
		
		function drawitall() {	

$( "#datepicker" ).datepicker();		
			
			function setdata() {	
		
			//getting that jason out using a php script i wrote
				jsonData = $.ajax({
					url:helper,
					dataType:"json",
					async:false
				}).responseText;
			
				jsonData2 = $.ajax({
					url:helper2,
					dataType:"json",
					async:false
				}).responseText;
		
		

			// Create and populate the data tables.
			// Also set view windows for my data for different graphs
   
    
			datas1 =  new google.visualization.DataTable(jsonData);
			datas2 =  new google.visualization.DataTable(jsonData2);
	
	
			view[0] = new google.visualization.DataView(datas2);
			view[1] = new google.visualization.DataView(datas1);
	
			viewstate[0] = new google.visualization.DataView(datas2);
			viewstate[1] = new google.visualization.DataView(datas1);
	
			view[0].setColumns([1, 3, 6, 7]);
			view[1].setColumns([1, 3, 6, 7]);
			viewstate[0].setColumns([1, 4]);
			viewstate[1].setColumns([1, 4]);
	
		}

    var options = {
      width: '100%',
      height: 300,
      vAxis: {title: "Temp"},
      hAxis: {title: "Time"},
      animation:{
        duration: 1000,
        easing: 'out'
      },
    };
    var current = 0; // used for switching from downstairs to upstairs
    // Create the chart objects, buttons
	var chart = new google.visualization.LineChart(document.getElementById('chart_div'));
	var chart2 = new google.visualization.LineChart(document.getElementById('chart_div2'));
    var button = document.getElementById('b1');
	var button2 = document.getElementById('b2');
	
    function drawChart() {
      // Disabling the button while the chart is drawing
      button.disabled = true;
	  button2.disabled = true;
      google.visualization.events.addListener(chart, 'ready',
          function() {
			//enable the button when done drawing the temps chart, this one is more complex
            button.disabled = false;
			button2.disabled = false;
            button.value = 'Switch to ' + (current ? 'Upstairs' : 'Downstairs');
          });
      options['title'] = 'Daily ' + (current ? 'Downstairs' : 'Upstairs');
	 

      chart.draw(view[current], options);  //draw the temps
	  chart2.draw(viewstate[current], options);  //draw the states
    }
	setdata();  //set the data
    drawChart();  //draw the charts & disable/enable buttons

    button.onclick = function() {
      current = 1 - current;
      drawChart();
    }
	
	button2.onclick = function() {
	
	helper = "getData2.php?where=Downstairs&when=yest";
	helper2 = "getData2.php?where=Upstairs&when=yest";
	setdata();
	drawChart();
	}
}
	
			</script>
	</head>

	<body>
		<!--Div that will hold the charts -->
		<form><input id="b1" type="button" value="Switch to Upstairs"></input></form>
		<form><input id="b2" type="button" value="Yesterday"></input></form>
		<!--someday soon-->
		<div id="chart_div3"></div>
		<div id="chart_div"></div>
		<div id="chart_div2"></div>
		<div id="datepicker"></div>
	</body>
</html>